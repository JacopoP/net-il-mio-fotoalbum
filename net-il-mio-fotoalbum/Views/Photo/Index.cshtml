@model List<Photo>?
@{
    ViewData["Title"] = "Le tue foto";
}


<div class="container row">
    @if(Model != null)
    {
        foreach(Photo photo in Model)
        {
            if(User.IsInRole("ADMIN") || photo.Visibile)
            {
                <div class="card col-2">
                    <img class="card-image" src="~/img/@photo.Img">
                    <div class="card-header">@photo.Title</div>
                    <div class="card-body overflow-hidden">@photo.Description</div>
                    <div class="d-flex">
                        <a class="btn btn-primary" href="@Url.Action("ShowPhoto", "Photo", new {id = photo.Id})">S</a>
                        <a class="btn btn-primary" href="@Url.Action("EditPhoto", "Photo", new {id = photo.Id})">E</a>
                        <form asp-action="DeletePhoto" asp-controller="Photo" method="post" asp-route-id="@photo.Id">
                            @Html.AntiForgeryToken()
                            <input class="btn btn-danger" type="submit" value="-"/>
                        </form>
                    </div>
                </div>
            }
        } 
    }
    @if (User.IsInRole("ADMIN"))
    {
        <a class="btn btn-light" href="@Url.Action("CreateForm", "Photo")">Aggiungi una nuova foto</a>
    }
</div>
